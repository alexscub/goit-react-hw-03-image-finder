{"version":3,"sources":["components/App/App.module.css","components/Modal/Modal.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/PhotoCard/PhotoCard.module.css","components/Modal/Modal.jsx","components/Gallery/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/SearchForm/SearchForm.jsx","components/App/api.js","components/App/App.jsx","index.js"],"names":["module","exports","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","e","code","props","onClose","handleBackdropClick","current","target","window","addEventListener","this","removeEventListener","children","createPortal","className","styles","backdrop","ref","onClick","role","modal","Component","PhotoCard","webformatURL","largeImageURL","likes","views","comments","downloads","openModal","photoCard","alt","src","stats","statsItem","type","fullscreenButton","Gallery","galleryItems","gallery","map","item","key","id","SearchForm","initialState","value","state","handleChange","setState","onSubmit","searchForm","preventDefault","autoComplete","placeholder","onChange","fetchImages","query","page","axios","get","then","response","data","hits","App","modalURL","loader","handleFetch","items","prev","closeModal","inputValue","loadMore","scrollBy","top","innerHeight","behavior","app","color","height","width","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cc3fbf9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__22z3u\",\"button\":\"App_button__2Risx\",\"loader\":\"App_loader__3fC6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3eJpE\",\"modal\":\"Modal_modal__3sy_J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3P7HL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3kSMT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__1CpPf\",\"stats\":\"PhotoCard_stats__2NCrk\",\"statsItem\":\"PhotoCard_statsItem__2su4P\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__29slH\"};","import React, { Component, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst MODAL_ROOT = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n    return createPortal(\n      <div\n        className={styles.backdrop}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>,\n      MODAL_ROOT,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  openModal,\n}) => {\n  const handleClickModal = () => {\n    openModal(largeImageURL);\n  };\n  return (\n    <div className={styles.photoCard}>\n      <img alt=\"small\" src={webformatURL} />\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        type=\"button\"\n        className={styles.fullscreenButton}\n        onClick={handleClickModal}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nexport default PhotoCard;\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from './PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ galleryItems, openModal }) => (\n  <ul className={styles.gallery}>\n    {galleryItems.map(item => (\n      <li key={item.id}>\n        <PhotoCard {...item} openModal={openModal} />\n      </li>\n    ))}\n  </ul>\n);\n\nexport default Gallery;\n\nGallery.propTypes = {\n  galleryItems: PropTypes.arrayOf(PropTypes.object).isRequired,\n  openModal:PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  initialState = {\n    value: '',\n  };\n\n  state = { ...this.initialState };\n\n  handleChange = e => {\n    const { value } = e.target;\n    this.setState({\n      value,\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    const handleSubmit = e => {\n      e.preventDefault();\n      onSubmit(value);\n      this.setState({\n        ...this.initialState,\n      });\n    };\n    return (\n      <form className={styles.searchForm} onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n          value={value}\n        />\n      </form>\n    );\n  }\n}\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nconst API_URL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\nconst API_KEY = '14071590-18eb9b3c58188a68f5a4a0fa6';\n\nconst fetchImages = (query, page) => {\n  return axios\n    .get(`${API_URL + query}&page=${page}&per_page=12&key=${API_KEY}`)\n    .then(response => response.data.hits);\n};\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Modal from '../Modal/Modal';\nimport Gallery from '../Gallery/Gallery';\nimport Searchform from '../SearchForm/SearchForm';\nimport styles from './App.module.css';\nimport fetchImages from './api';\n\nexport default class App extends Component {\n  initialState = {\n    query: '',\n    galleryItems: [],\n    page: 1,\n    modalURL: null,\n    loader: false,\n  };\n\n  state = { ...this.initialState };\n\n  componentDidMount() {\n    const { query, page } = this.state;\n    this.setState({\n      loader: true,\n    });\n    fetchImages(query, page).then(data => {\n      this.setState({\n        galleryItems: data,\n        loader: false,\n      });\n    });\n  }\n\n  handleFetch = (query, page, items) => {\n    this.setState(prev => ({\n      galleryItems: [...prev.galleryItems, ...items],\n      query,\n      page,\n      loader: false,\n    }));\n  };\n\n  openModal = largeImageURL => {\n    this.setState({ modalURL: largeImageURL });\n  };\n\n  closeModal = () => {\n    this.setState({ modalURL: null });\n  };\n\n  onSubmit = inputValue => {\n    this.setState({\n      query: inputValue,\n      page: 1,\n      galleryItems: [],\n      loader: true,\n    });\n    fetchImages(inputValue, 1).then(data => {\n      this.handleFetch(inputValue, 1, data);\n    });\n  };\n\n  loadMore = () => {\n    const { query, page } = this.state;\n    this.setState({\n      loader: true,\n    });\n    fetchImages(query, page + 1).then(data => {\n      this.handleFetch(query, page + 1, data);\n      window.scrollBy({\n        top: window.innerHeight - 50,\n        behavior: 'smooth',\n      });\n    });\n  };\n\n  render() {\n    const { galleryItems, modalURL, loader } = this.state;\n    return (\n      <div className={styles.app}>\n        <Searchform onSubmit={this.onSubmit} handleChange={this.handleChange} />\n        {!!galleryItems && (\n          <Gallery openModal={this.openModal} galleryItems={galleryItems} />\n        )}\n        {loader && (\n          <div className={styles.loader}>\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n          </div>\n        )}\n        <button className={styles.button} type=\"button\" onClick={this.loadMore}>\n          Load more\n        </button>\n        {!!modalURL && (\n          <Modal onClose={this.closeModal}>\n            <img alt=\"large\" src={modalURL} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}